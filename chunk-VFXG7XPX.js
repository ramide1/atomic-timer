import{L as j,M as W,N as H,O as R,T,U as M,V as y,Y as I,Z as F,a as p,b as _,g as m,ga as B,h,ha as b,i as C,ia as S,k as E,ka as L,ma as P,o as a,p as l,s as c,ta as N,u as d,v as A,w as D,x as f,y as g,z as k}from"./chunk-KHSVS4YI.js";import{i as u}from"./chunk-OYAVQN5W.js";var O=(()=>{let i=class i{constructor(t){this.alertController=t}presentAlert(t,n="Alert",e){return u(this,null,function*(){yield(yield this.alertController.create({header:n,subHeader:e,message:t,buttons:["OK"]})).present()})}};i.\u0275fac=function(n){return new(n||i)(_(L))},i.\u0275prov=p({token:i,factory:i.\u0275fac,providedIn:"root"});let r=i;return r})();var Z=(()=>{let i=class i{constructor(t,n){this.modalCtrl=t,this.alert=n,this.task={name:"",hours:"",minutes:"",seconds:"",image:"",status:!1}}cancel(){return this.modalCtrl.dismiss(null,"cancel")}confirm(){return u(this,null,function*(){this.task.name?!this.task.hours&&!this.task.minutes&&!this.task.seconds?this.alert.presentAlert("Duration is required.","Error"):(this.modalCtrl.dismiss(this.task,"confirm"),this.task={name:"",hours:"",minutes:"",seconds:"",image:"",status:!1}):this.alert.presentAlert("Name is required.","Error")})}onFileChange(t){let n=t.target.files[0];if(n){let e=new FileReader;e.onload=()=>{this.task.image=e.result},e.readAsDataURL(n)}}};i.\u0275fac=function(n){return new(n||i)(h(S),h(O))},i.\u0275cmp=C({type:i,selectors:[["app-add-task-modal"]],decls:17,vars:4,consts:[["slot","start"],[3,"click"],["slot","end"],[1,"ion-padding"],["type","text","placeholder","Task Name","ngDefaultControl","",3,"ngModelChange","ngModel"],["min","0","type","number","placeholder","Hours","ngDefaultControl","",3,"ngModelChange","ngModel"],["min","0","type","number","placeholder","Minutes","ngDefaultControl","",3,"ngModelChange","ngModel"],["min","0","type","number","placeholder","Seconds","ngDefaultControl","",3,"ngModelChange","ngModel"],["type","file","placeholder","Optional Image","ngDefaultControl","",3,"change"]],template:function(n,e){n&1&&(a(0,"ion-header")(1,"ion-toolbar")(2,"ion-buttons",0)(3,"ion-button",1),c("click",function(){return e.cancel()}),d(4,"Cancel"),l()(),a(5,"ion-buttons",2)(6,"ion-button",1),c("click",function(){return e.confirm()}),d(7,"Confirm"),l()()()(),a(8,"ion-content",3)(9,"ion-item")(10,"ion-input",4),k("ngModelChange",function(o){return g(e.task.name,o)||(e.task.name=o),o}),l()(),a(11,"ion-item")(12,"ion-input",5),k("ngModelChange",function(o){return g(e.task.hours,o)||(e.task.hours=o),o}),l(),a(13,"ion-input",6),k("ngModelChange",function(o){return g(e.task.minutes,o)||(e.task.minutes=o),o}),l(),a(14,"ion-input",7),k("ngModelChange",function(o){return g(e.task.seconds,o)||(e.task.seconds=o),o}),l()(),a(15,"ion-item")(16,"ion-input",8),c("change",function(o){return e.onFileChange(o)}),l()()()),n&2&&(m(10),f("ngModel",e.task.name),m(2),f("ngModel",e.task.hours),m(),f("ngModel",e.task.minutes),m(),f("ngModel",e.task.seconds))},dependencies:[R,j,W,H,I,b,M,y,T,F,P],encapsulation:2});let r=i;return r})();var K=(()=>{let i=class i{constructor(){}formatDuration(t,n,e){let s=t!==""?+t:0,o=n!==""?+n:0,w=e!==""?+e:0,U=s<10?`0${s}`:`${s}`,V=o<10?`0${o}`:`${o}`,$=w<10?`0${w}`:`${w}`;return`${U}:${V}:${$}`}};i.\u0275fac=function(n){return new(n||i)},i.\u0275prov=p({token:i,factory:i.\u0275fac,providedIn:"root"});let r=i;return r})();var ne=(()=>{let i=class i{constructor(t,n){this.modalCtrl=t,this.common=n,this.timerHours=0,this.timerMinutes=0,this.timerSeconds=0,this.isTimerRunning=!1,this.timerInterval=null,setTimeout(()=>{this.resetTimer()},200)}close(){return this.modalCtrl.dismiss(null,"cancel")}startStopTimer(){this.isTimerRunning?clearInterval(this.timerInterval):this.timerInterval=setInterval(()=>this.updateTimer(),1e3),this.isTimerRunning=!this.isTimerRunning}updateTimer(){this.timerSeconds>0?this.timerSeconds--:this.timerMinutes>0?(this.timerMinutes--,this.timerSeconds=59):this.timerHours>0?(this.timerHours--,this.timerMinutes=59,this.timerSeconds=59):(clearInterval(this.timerInterval),this.isTimerRunning=!1,this.modalCtrl.dismiss(this.selectedTask,"confirm"))}resetTimer(){this.timerHours=this.selectedTask.hours||0,this.timerMinutes=this.selectedTask.minutes||0,this.timerSeconds=this.selectedTask.seconds||0}};i.\u0275fac=function(n){return new(n||i)(h(S),h(K))},i.\u0275cmp=C({type:i,selectors:[["app-timer-modal"]],inputs:{selectedTask:"selectedTask"},decls:15,vars:4,consts:[["slot","start"],[3,"click"],[1,"ion-padding"],[1,"timer-display"],["expand","full",3,"click"],["expand","full",3,"click","disabled"]],template:function(n,e){n&1&&(a(0,"ion-header")(1,"ion-toolbar")(2,"ion-buttons",0)(3,"ion-button",1),c("click",function(){return e.close()}),d(4,"Close"),l()(),a(5,"ion-title"),d(6),l()()(),a(7,"ion-content",2)(8,"div",3)(9,"h1"),d(10),l()(),a(11,"ion-button",4),c("click",function(){return e.startStopTimer()}),d(12),l(),a(13,"ion-button",5),c("click",function(){return e.resetTimer()}),d(14," Reset "),l()()),n&2&&(m(6),A(e.selectedTask.name),m(4),A(e.common.formatDuration(e.timerHours,e.timerMinutes,e.timerSeconds)),m(2),D(" ",e.isTimerRunning?"Pause":"Start"," "),m(),E("disabled",!e.isTimerRunning&&e.timerHours===0&&e.timerMinutes===0&&e.timerSeconds===0))},dependencies:[I,b,M,T,B,y],encapsulation:2});let r=i;return r})();var re=(()=>{let i=class i{constructor(t){this.storage=t,this._storage=null,this.init()}init(){return u(this,null,function*(){let t=yield this.storage.create();this._storage=t})}set(t,n){var e;return(e=this._storage)==null?void 0:e.set(t,n)}get(t){var n;return(n=this._storage)==null?void 0:n.get(t)}remove(t){var n;return(n=this._storage)==null?void 0:n.remove(t)}clear(){var t;return(t=this._storage)==null?void 0:t.clear()}keys(){var t;return(t=this._storage)==null?void 0:t.keys()}length(){var t;return(t=this._storage)==null?void 0:t.length()}getAll(){var n;let t=[];return(n=this._storage)==null||n.forEach((e,s,o)=>{t[e]={value:s,index:o}}),t}};i.\u0275fac=function(n){return new(n||i)(_(N))},i.\u0275prov=p({token:i,factory:i.\u0275fac,providedIn:"root"});let r=i;return r})();export{O as a,Z as b,K as c,ne as d,re as e};
