import{$ as et,A as C,C as K,D as G,E as J,M as Q,N as X,O as Y,P as L,U as W,V as I,W as M,X as Z,Y as tt,Z as y,_ as j,a as g,aa as it,b as E,d as V,da as nt,e as z,f as q,g as m,h as u,ha as P,i as _,ia as S,j as D,ja as b,k as f,la as ot,ma as st,na as rt,o as r,oa as lt,p as a,q as A,r as U,s as p,sa as mt,t as v,u as c,v as x,w as F,x as $,y as k,z as T}from"./chunk-JMIFGS6O.js";import"./chunk-SU4TQPZ4.js";import{a as at}from"./chunk-ILFZJPTE.js";import"./chunk-X6QOBGWF.js";import"./chunk-GT5T3SDY.js";import"./chunk-Y5K6WPBY.js";import"./chunk-TBGYE3Z5.js";import"./chunk-PXJBPK6W.js";import"./chunk-4WFVMWDK.js";import"./chunk-53EJ7HX7.js";import"./chunk-NMYJD6OP.js";import"./chunk-C5RQ2IC2.js";import"./chunk-7D2EH4XU.js";import"./chunk-MMIXVVWR.js";import"./chunk-SV7S5NYR.js";import{a as O,h}from"./chunk-B7O3QC5Z.js";var B=(()=>{let e=class e{constructor(n){this.alertController=n}presentAlert(n,i="Alert",t){return h(this,null,function*(){yield(yield this.alertController.create({header:i,subHeader:t,message:n,buttons:["OK"]})).present()})}};e.\u0275fac=function(i){return new(i||e)(E(ot))},e.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"});let o=e;return o})();var dt=(()=>{let e=class e{constructor(n,i){this.modalCtrl=n,this.alert=i,this.task={name:"",hours:"",minutes:"",seconds:"",sets:"",image:"",status:!1}}cancel(){return this.modalCtrl.dismiss(null,"cancel")}confirm(){return h(this,null,function*(){this.task.name?!this.task.hours&&!this.task.minutes&&!this.task.seconds?this.alert.presentAlert("Duration is required.","Error"):(this.modalCtrl.dismiss(this.task,"confirm"),this.task={name:"",hours:"",minutes:"",seconds:"",sets:"",image:"",status:!1}):this.alert.presentAlert("Name is required.","Error")})}onFileChange(n){let i=n.target.files[0];if(i){let t=new FileReader;t.onload=()=>{this.task.image=t.result},t.readAsDataURL(i)}}};e.\u0275fac=function(i){return new(i||e)(u(b),u(B))},e.\u0275cmp=_({type:e,selectors:[["app-add-task-modal"]],decls:19,vars:5,consts:[["slot","start"],[3,"click"],["slot","end"],[1,"ion-padding"],["type","text","placeholder","Task Name","ngDefaultControl","",3,"ngModelChange","ngModel"],["min","0","type","number","placeholder","Hours","ngDefaultControl","",3,"ngModelChange","ngModel"],["min","0","type","number","placeholder","Minutes","ngDefaultControl","",3,"ngModelChange","ngModel"],["min","0","type","number","placeholder","Seconds","ngDefaultControl","",3,"ngModelChange","ngModel"],["min","0","type","number","placeholder","Sets","ngDefaultControl","",3,"ngModelChange","ngModel"],["type","file","label","Image","ngDefaultControl","",3,"change"]],template:function(i,t){i&1&&(r(0,"ion-header")(1,"ion-toolbar")(2,"ion-buttons",0)(3,"ion-button",1),p("click",function(){return t.cancel()}),c(4,"Cancel"),a()(),r(5,"ion-buttons",2)(6,"ion-button",1),p("click",function(){return t.confirm()}),c(7,"Confirm"),a()()()(),r(8,"ion-content",3)(9,"ion-item")(10,"ion-input",4),C("ngModelChange",function(s){return T(t.task.name,s)||(t.task.name=s),s}),a()(),r(11,"ion-item")(12,"ion-input",5),C("ngModelChange",function(s){return T(t.task.hours,s)||(t.task.hours=s),s}),a(),r(13,"ion-input",6),C("ngModelChange",function(s){return T(t.task.minutes,s)||(t.task.minutes=s),s}),a(),r(14,"ion-input",7),C("ngModelChange",function(s){return T(t.task.seconds,s)||(t.task.seconds=s),s}),a()(),r(15,"ion-item")(16,"ion-input",8),C("ngModelChange",function(s){return T(t.task.sets,s)||(t.task.sets=s),s}),a()(),r(17,"ion-item")(18,"ion-input",9),p("change",function(s){return t.onFileChange(s)}),a()()()),i&2&&(m(10),k("ngModel",t.task.name),m(2),k("ngModel",t.task.hours),m(),k("ngModel",t.task.minutes),m(),k("ngModel",t.task.seconds),m(2),k("ngModel",t.task.sets))},dependencies:[L,Q,X,Y,y,S,I,M,W,j,rt],encapsulation:2});let o=e;return o})();var H=(()=>{let e=class e{constructor(){}formatDuration(n,i,t){let l=n!==""?+n:0,s=i!==""?+i:0,R=t!==""?+t:0,ft=l<10?`0${l}`:`${l}`,gt=s<10?`0${s}`:`${s}`,_t=R<10?`0${R}`:`${R}`;return`${ft}:${gt}:${_t}`}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"});let o=e;return o})();var pt=(()=>{let e=class e{constructor(n,i){this.modalCtrl=n,this.common=i,this.timerHours=0,this.timerMinutes=0,this.timerSeconds=0,this.timerSets=1,this.isTimerRunning=!1,this.timerInterval=null,setTimeout(()=>{this.resetTimer()},200)}close(){return this.modalCtrl.dismiss(null,"cancel")}startStopTimer(){this.isTimerRunning?clearInterval(this.timerInterval):this.timerInterval=setInterval(()=>this.updateTimer(),1e3),this.isTimerRunning=!this.isTimerRunning}updateTimer(){this.timerSeconds>0?this.timerSeconds--:this.timerMinutes>0?(this.timerMinutes--,this.timerSeconds=59):this.timerHours>0?(this.timerHours--,this.timerMinutes=59,this.timerSeconds=59):this.timerSets>1?(this.timerSets--,this.timerHours=this.selectedTask.hours||0,this.timerMinutes=this.selectedTask.minutes||0,this.timerSeconds=this.selectedTask.seconds||0):(clearInterval(this.timerInterval),this.isTimerRunning=!1,this.modalCtrl.dismiss(this.selectedTask,"confirm"))}resetTimer(){this.timerHours=this.selectedTask.hours||0,this.timerMinutes=this.selectedTask.minutes||0,this.timerSeconds=this.selectedTask.seconds||0,this.timerSets=this.selectedTask.sets||1}};e.\u0275fac=function(i){return new(i||e)(u(b),u(H))},e.\u0275cmp=_({type:e,selectors:[["app-timer-modal"]],inputs:{selectedTask:"selectedTask"},decls:17,vars:5,consts:[["slot","start"],[3,"click"],[1,"ion-padding"],[1,"timer-display"],["expand","full",3,"click"],["expand","full",3,"click","disabled"]],template:function(i,t){i&1&&(r(0,"ion-header")(1,"ion-toolbar")(2,"ion-buttons",0)(3,"ion-button",1),p("click",function(){return t.close()}),c(4,"Close"),a()(),r(5,"ion-title"),c(6),a()()(),r(7,"ion-content",2)(8,"div",3)(9,"h1"),c(10),a(),r(11,"h1"),c(12),a()(),r(13,"ion-button",4),p("click",function(){return t.startStopTimer()}),c(14),a(),r(15,"ion-button",5),p("click",function(){return t.resetTimer()}),c(16," Reset "),a()()),i&2&&(m(6),x(t.selectedTask.name),m(4),F("Duration: ",t.common.formatDuration(t.timerHours,t.timerMinutes,t.timerSeconds),""),m(2),F("Sets: ",t.timerSets,""),m(2),F(" ",t.isTimerRunning?"Pause":"Start"," "),m(),f("disabled",!t.isTimerRunning&&t.timerHours===0&&t.timerMinutes===0&&t.timerSeconds===0))},dependencies:[y,S,I,W,P,M],encapsulation:2});let o=e;return o})();var ht=(()=>{let e=class e{constructor(n){this.storage=n,this._storage=null,this.init()}init(){return h(this,null,function*(){let n=yield this.storage.create();this._storage=n})}set(n,i){return this._storage?.set(n,i)}get(n){return this._storage?.get(n)}remove(n){return this._storage?.remove(n)}clear(){return this._storage?.clear()}keys(){return this._storage?.keys()}length(){return this._storage?.length()}getAll(){let n=[];return this._storage?.forEach((i,t,l)=>{n[i]={value:t,index:l}}),n}};e.\u0275fac=function(i){return new(i||e)(E(mt))},e.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"});let o=e;return o})();function Tt(o,e){o&1&&(r(0,"div",7)(1,"strong",8),c(2,"First add a task"),a()())}function Ct(o,e){if(o&1&&A(0,"img",12),o&2){let d=v().$implicit;f("src",d.image,q)}}function It(o,e){if(o&1){let d=U();r(0,"ion-item",10),p("click",function(){let i=V(d).$implicit,t=v(2);return z(t.openTimerModal(i))}),r(1,"ion-label")(2,"h2"),c(3),a(),r(4,"p"),c(5),a()(),D(6,Ct,1,1,"img",11),a()}if(o&2){let d=e.$implicit,n=v(2);m(3),x(d.name),m(2),$("Duration: ",n.common.formatDuration(d.hours,d.minutes,d.seconds)," Sets: ",d.sets?d.sets:1,""),m(),f("ngIf",d.image)}}function Mt(o,e){if(o&1&&(r(0,"ion-list"),D(1,It,7,4,"ion-item",9),a()),o&2){let d=v();m(),f("ngForOf",d.taskList)}}var Ot=(()=>{let e=class e{constructor(n,i,t,l){this.storage=n,this.alert=i,this.modalCtrl=t,this.common=l,this.taskList=[],at({addOutline:lt}),this.getTasks()}getTasks(){return h(this,null,function*(){yield this.storage.init(),this.taskList=(yield this.storage.get("tasks"))||[]})}openAddTaskModal(){return h(this,null,function*(){let n=yield this.modalCtrl.create({component:dt});n.present();let{data:i,role:t}=yield n.onWillDismiss();t==="confirm"&&(this.taskList.push(O({},i)),this.storage.set("tasks",this.taskList))})}openTimerModal(n){return h(this,null,function*(){let i=yield this.modalCtrl.create({component:pt,componentProps:{selectedTask:n}});i.present();let{data:t,role:l}=yield i.onWillDismiss();l==="confirm"&&(this.alert.presentAlert("Task "+t.name+" has been completed. Congratulations!!.","Success"),this.taskList=this.taskList.filter(s=>s!==t),this.storage.set("tasks",this.taskList))})}};e.\u0275fac=function(i){return new(i||e)(u(ht),u(B),u(b),u(H))},e.\u0275cmp=_({type:e,selectors:[["app-tasks"]],decls:12,vars:2,consts:[["slot","start"],[1,"ion-padding"],["id","container",4,"ngIf"],[4,"ngIf"],["vertical","bottom","horizontal","end","slot","fixed"],[3,"click"],["name","add-outline"],["id","container"],[1,"capitalize"],["button","",3,"click",4,"ngFor","ngForOf"],["button","",3,"click"],["alt","Task Image","style","max-width: 100px; max-height: 100px;",3,"src",4,"ngIf"],["alt","Task Image",2,"max-width","100px","max-height","100px",3,"src"]],template:function(i,t){i&1&&(r(0,"ion-header")(1,"ion-toolbar")(2,"ion-buttons",0),A(3,"ion-menu-button"),a(),r(4,"ion-title"),c(5,"Tasks"),a()()(),r(6,"ion-content",1),D(7,Tt,3,0,"div",2)(8,Mt,2,1,"ion-list",3),r(9,"ion-fab",4)(10,"ion-fab-button",5),p("click",function(){return t.openAddTaskModal()}),A(11,"ion-icon",6),a()()()),i&2&&(m(7),f("ngIf",t.taskList.length===0),m(),f("ngIf",t.taskList.length>0))},dependencies:[y,S,I,nt,P,M,Z,tt,st,j,et,it,J,K,G,L],encapsulation:2});let o=e;return o})();export{Ot as TasksPage};
